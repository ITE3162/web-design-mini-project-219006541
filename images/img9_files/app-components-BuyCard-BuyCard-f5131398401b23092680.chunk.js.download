(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[57],{16817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ot}});var s=n(67294),i=n(74465),r=n(28844),a=n(96175),c=n(2494),o=n(65190),l=n(52480),d=n(44370),u=function(){var e=(0,i.useDispatch)(),t=(0,o.Z)(),n=(0,l.useSpectrum)(),s=(0,i.useSelector)((function(e){return e.calc.step})).dropboxEnabled,r=(0,i.useSelector)((function(e){return e.buyCardData})).mubRedirectUrl,u=(0,i.useSelector)((function(e){return e.calc})),p=u.selectedAssetSize,h=u.selectedAgreementSize,f=u.selectedAgreementType;return{createDownload:function(){return h?(t.setAssetDetailTrackingData("asset_size",p.name),n.sendAssetDownloadedSignal((0,d.N)(f)),e((0,a.default)(window.korrelationId,r,s))):e((0,c.default)("download_failed"))}}},p="CompleteDownload-module__container___qUhnK",h="CompleteDownload-module__boldText___10T4s",f=n(85893),_=function(){var e=(0,i.useSelector)((function(e){return e.calc.step.dropboxEnabled})),t=(0,i.useSelector)((function(e){return e.asset})),n=u(),s=e?"download_again":"issues_download_again",a=(0,r.useTranslations)(),c=function(e){return{__html:e}};return(0,f.jsxs)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:[(0,f.jsx)("div",{className:p,children:(0,f.jsx)("span",{dangerouslySetInnerHTML:c(a(e&&t.isFilm?"successful_download_dropbox_video":e&&t.isIllustration?"successful_download_dropbox_illustration":e?"successful_download_dropbox_photo":t.isFilm?"successful_download_local_video":t.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:"<strong class="+h+">",end_strong:"</strong>"}))})}),(0,f.jsx)("div",{onClick:function(e){"redownload-for-free"!=e.target.id||n.createDownload()},children:(0,f.jsx)("span",{id:"download-again",dangerouslySetInnerHTML:c(a(s,{links:[{href:"#",id:"redownload-for-free"}]}))})})]})},m=function(e){var t=e.totalCreditCost,n=(0,r.useTranslations)();return t>1?(0,f.jsx)("span",{children:n("more_than_one_credit",{zero:t})}):1===t?(0,f.jsx)("span",{children:n("one_credit")}):null},x=function(){var e=(0,r.useTranslations)(),t=(0,i.useSelector)((function(e){return e.asset}));return(0,f.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:t.isIllustration?(0,f.jsx)("span",{children:e("free_illustration_otm")}):t.isFilm?(0,f.jsx)("span",{children:e("free_video_otm")}):(0,f.jsx)("span",{children:e("free_photo_otw")})})},g=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.hasSelectedOptionalLicenses})),n=(0,i.useSelector)((function(e){return e.calc.selectedAgreementType})),s=(0,i.useSelector)((function(e){return e.calc.step.showCreditCost})),a=(0,i.useSelector)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),c=t&&n,o=(0,i.useSelector)((function(e){return e.calc.totalCreditCost})),l=(0,r.useTranslations)();return e.freeFile?(0,f.jsx)(x,{}):a?(0,f.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"geo-test-content",children:(0,f.jsx)("span",{children:l("new_lower_prices")})}):(s||c)&&(0,f.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,f.jsx)("div",{className:"download-actions__header",children:(0,f.jsx)(m,{totalCreditCost:o})})})},v=n(32553),j=n(36666),w={};w[j.default.expired]=S((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Renew_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_expired_message"})})),w[j.default.paused]=S((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_CTA_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_paused_message"})})),w[j.default.suspended]=S((function(e){e.can_unsuspend&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Unsuspend_Subscription_Notification_CTA_Click",account_selection:"adp_unsuspend_subscription_message",sku:e.sku,ui_element_location:window.tracking_data.page_name})}));var b=function(e){};function S(e){return function(t){if(t)switch(t.name){case v.default.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case v.default.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:return e}return b}}var y=function(e,t){if(e){var n=w[e.status];n&&n(t)(e)}},C=n(1391),k=function(e,t,n,s){var i;(void 0===n&&(n=!0),void 0===s&&(s=null),"checkout"===t)?i=n?"?":"&":i=e.search(/\?/)<0?"?":"&";return e+=i+(s?"fastcheckoutasset="+s:"in-pricing-clarity=true"),window.siteMap.cleanRelativePath(e)},N={getPricingUrl:function(e,t){return void 0===t&&(t=!0),k(e,"pricing",t)},getCheckoutUrl:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=null),k(e,"checkout",t,n)}},T=n(23766),P=n(48603),A=function(){var e=(0,r.useTranslations)(),t=(0,i.useDispatch)(),n=(0,i.useSelector)((function(e){return e.redirectToUrl})),a=(0,i.useSelector)((function(e){return e.calc})),c=a.isInPricingClarity,o=a.assetIsVideo,l=a.totalCreditCost,d=(0,i.useSelector)((function(e){return e.calc.step})),u=d.name,p=d.pricingOption,h=d.showPricingClarity,f=d.viewLicenseSelection,_=(0,i.useSelector)((function(e){return e.user})),m=_.fast_checkout_subs_pack_sku,x=_.istock_fast_checkout_larger_offer_credit_pack_sku,g=_.standard_asset_credit_pack,v=_.credit_amount,j=_.repurchase_fast_checkout_single_option,w=(0,i.useSelector)((function(e){return e.user.country_code})),b=(0,i.useSelector)((function(e){return e.asset})),S=b.assetId,y=b.standardLicense,k=(0,i.useSelector)((function(e){return e.buyCardData})).mubRedirectUrl,A=(0,i.useSelector)((function(e){return e.user.premium_video_subscription_enabled}));(0,s.useEffect)((function(){if(n){var e=E(n);window.location.href=e}}),[n]);var D=function(e){return window.location.href=e},O=function(){return c&&h&&!f},E=function(t){if(t===k||t.includes("sign-in"))return t;var n="/"+e(t);return I(window.siteMap.cleanRelativePath(n))},I=function(e){return/(.*)JS translation missing(.*)/.test(e)?window.siteMap.cleanRelativePath("/plans-and-pricing"):e},L=function(){return!o&&P.default.inGeoLocPricingTest(w)||A||j};return{redirectToPricing:function(){"pricing"===p&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===u&&"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-subscription");var e=E(T.default.getPricingRoute(o));return O()&&!j?e=N.getPricingUrl(e):L()&&(e=E(T.default.getDefaultPnpRoute())),D(e)},redirectToFastCheckoutWithSubscription:function(){var e="/purchase/subscriptions/"+m;return e=N.getCheckoutUrl(e,!0,S),D(e)},redirectToFastCheckoutWithPacksForExtLicence:function(){var e=l-v;if(!(e<1)){var t="/purchase/total-credits/"+e+"/?extendedlicensefastcheckout=true";return t=N.getCheckoutUrl(t,!1,S),D(t)}},redirectToCheckout:function(){var e,t=1===y.credit_cost?"oneCredit":"moreThanOneCredit";if(["essentialsSubscription","signatureSubscription"].includes(t)){e="/purchase/subscriptions/"+{essentialsSubscription:"SUBISTOCK1M10",signatureSubscription:"SUBISTOCKPREM1M10"}[t],O()&&(e=N.getCheckoutUrl(e,!0,S))}else{var n="checkoutLargerCreditPack"==p?x:g.product_sku;"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-creditPack"),e="/purchase/credits/"+n,O()&&(e=N.getCheckoutUrl(e,!0,S))}return D(e)},handleAccountSelection:function(){return t(C.default.goToNextStep())},redirectToCreditPacks:function(){var e=E(T.default.getPnpCreditsRoute());return D(e)},translateCleanAndValidatePath:E}},D="WarningBox-module__titleEmphasized___SXzyG",O="WarningBox-module__lightBlueError___32w_c",E="WarningBox-module__messageContainer___3SQtB",I="WarningBox-module__lightBlueTitle___1TM2K",L="WarningBox-module__lightBlueErrorIcon___dJ62t",M=["styles"];function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var z=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,M);return s.createElement("svg",F({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),s.createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),s.createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}))},B=function(){var e=(0,i.useDispatch)(),t=(0,r.useTranslations)(),n=(0,i.useSelector)((function(e){return e.calc.step})),s=(0,i.useSelector)((function(e){return e.subscription})),a=(0,i.useSelector)((function(e){return e.calc.step.warningClass})),c=(0,i.useSelector)((function(e){return e.calc.step.reasonForBox})),o=(0,i.useSelector)((function(e){return e.calc.step.reasonForBoxLink})),l=(0,i.useSelector)((function(e){return e.calc.step.warningMessageClass})),d=(0,i.useSelector)((function(e){return e.calc.step.warningCta})),u=(0,i.useSelector)((function(e){return e.calc.step.additionalInfoHtml})),p=(0,i.useSelector)((function(e){return e.calc.step.additionalInfoHtmlLink})),h=(0,i.useSelector)((function(e){return e.calc.step.persistentWarning})),_=(0,i.useSelector)((function(e){return e.calc.step.triggerTracking})),m=(0,i.useSelector)((function(e){return e.calc.step.lightBlueWarning})),x=A().translateCleanAndValidatePath,g=function(t){var n;"reason-for-warning"===t.target.id&&(t.preventDefault(),_(),n=t.target.href,e(C.default.setRedirectUrl(n)))},v=function(){var e={};return o&&(e.links=[{href:x(o),id:"reason-for-warning"}]),{__html:t(c,e)}};return(0,f.jsxs)("section",{className:"download-box "+(m?O:""),"data-testid":"warning-box",children:[!h&&(0,f.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,f.jsx)("div",{className:"adp-confirm-close-btn",onClick:function(){e(C.default.closeDownloadErrorMessage())}})}),(0,f.jsxs)("div",{className:"box "+a,"data-testid":"warning-box-warning",children:[m?(0,f.jsxs)("div",{className:E,"data-testid":"light-blue-warning",children:[(0,f.jsx)(z,{className:L}),c&&(0,f.jsx)("div",{onClick:g,className:"title "+I,"data-testid":"reason-for-warning",dangerouslySetInnerHTML:v()})]}):(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"error-icon"}),c&&(0,f.jsx)("div",{onClick:g,className:"title "+(u?D:""),"data-testid":"reason-for-warning",dangerouslySetInnerHTML:v()})]}),u&&(0,f.jsx)("div",{className:"warning-message "+l,"data-testid":"warning-message",dangerouslySetInnerHTML:(p&&(u.translationVariables.links=[Object.assign({},Object.fromEntries(p),{href:x(p.href)})]),{__html:t(u.tag,u.translationVariables)})}),d&&(0,f.jsxs)("div",{className:"warning-cta "+d.ctaClass,"data-testid":"warning-cta",children:[d.url&&(0,f.jsx)("a",{className:"warning-cta__text",href:d.url,onClick:function(){e(y(s,n))},"data-testid":"warning-cta-url",children:t(d.tag)+" >"}),!d.url&&(0,f.jsx)("span",{className:"warning-cta__text",children:t(d.tag)})]})]})]})},U=function(e){var t=e.selectedPricingOption,n=e.selectPricingClarityOptionToggle,s=(0,i.useSelector)((function(e){return e.buyCardData.pricingOptions.firstRadioOption})),r=(0,i.useSelector)((function(e){return e.buyCardData.pricingClarityTranslations.firstRadioContent})),a=(0,i.useSelector)((function(e){return e.user.affiliate_fast_checkout})),c=(0,i.useSelector)((function(e){return e.user.repurchase_fast_checkout_single_option}));return(0,f.jsxs)("div",{className:"purchase-choice-container "+(t===s?"selected radio-button-selected":""),onClick:function(){t!==s&&n(s)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",value:"checkout",name:"purchase-choice"})}),(0,f.jsx)("label",{children:(0,f.jsxs)("div",{className:"purchase-type",children:[(0,f.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",dangerouslySetInnerHTML:{__html:null==r?void 0:r.main}}),a||c?(0,f.jsx)("div",{className:"purchase-type__sub-text","data-testid":"first-radio-sub-content",children:null==r?void 0:r.sub_content}):null]})})]})},R=function(e){var t=e.selectedPricingOption,n=e.selectPricingClarityOptionToggle,s=(0,i.useSelector)((function(e){return e.buyCardData.pricingOptions.secondRadioOption})),r=(0,i.useSelector)((function(e){return e.buyCardData.pricingClarityTranslations.secondRadioContent})),a=(0,i.useSelector)((function(e){return e.user.fast_checkout_sub_savings})),c=(0,i.useSelector)((function(e){return e.user.repurchase_fast_checkout_single_option})),o=function(e){return{__html:e}};return(0,f.jsxs)("div",{className:"purchase-choice-container "+(t===s?"selected radio-button-selected":""),onClick:function(){t!==s&&n(s)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",name:"purchase-choice",value:s})}),(0,f.jsxs)("label",{children:[(0,f.jsx)("div",{className:"purchase-type "+(a||c?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",dangerouslySetInnerHTML:o(null==r?void 0:r.main)}),(0,f.jsx)("div",{className:"purchase-type__sub-text "+(a?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",dangerouslySetInnerHTML:o(null==r?void 0:r.sub_content)})]})]})},H=function(){var e=(0,i.useSelector)((function(e){return e.calc.step.pricingOption})),t=(0,i.useSelector)((function(e){return e.user.videoPricingClarityVariance})),n=(0,i.useDispatch)(),r=(0,s.useState)(e),a=r[0],c=r[1],o=function(e){n(C.default.selectPricingClarityOptionToggle(e)),c(e)};return(0,f.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[t&&(0,f.jsx)("hr",{role:"hr"}),(0,f.jsx)(U,{selectedPricingOption:a,selectPricingClarityOptionToggle:o}),(0,f.jsx)(R,{selectedPricingOption:a,selectPricingClarityOptionToggle:o}),(0,f.jsx)("hr",{})]})},V=n(79399),K=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,s=(0,i.useSelector)((function(e){return e.calc.totalCreditCost})),a=(0,i.useSelector)((function(e){return e.calc.selectedAccountCredits})),c=(0,i.useSelector)((function(e){return e.calc.step.creditsAvailable})),o=(0,r.useTranslations)(),l=V.default.CREDIT_PACK;return(0,f.jsxs)("div",{className:"purchase-choice-container "+(n===l&&"selected radio-button-selected")+" "+(!c&&"unavailable radio-button-disabled"),onClick:function(){n!==l&&c&&t(l)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",value:"credits",name:"purchase-choice"})}),(0,f.jsxs)("label",{role:"label",children:[(0,f.jsxs)("div",{className:"purchase-type",children:[s>1&&(0,f.jsx)("span",{children:o("more_than_one_credit",{zero:s})}),1===s&&(0,f.jsx)("span",{children:o("one_credit")})]}),(0,f.jsx)("div",{className:"amount-remaining",children:o("credit_balance_available",{credit_balance:a})})]})]})},G=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,s=(0,i.useSelector)((function(e){return e.calc.step.subsAvailable})),a=(0,i.useSelector)((function(e){return e.calc.step.subDownloadsTranslationValue})),c=(0,i.useSelector)((function(e){return e.calc.step.subTitleTranslation})),o=(0,r.useTranslations)(),l=V.default.ROYALTY_FREE_SUBSCRIPTION;return(0,f.jsxs)("div",{className:"purchase-choice-container "+(n===l&&"selected radio-button-selected")+" "+(!s&&"unavailable radio-button-disabled"),onClick:function(){n!==l&&s&&t(l)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice"})}),(0,f.jsxs)("label",{role:"label",children:[(0,f.jsx)("div",{className:"purchase-type",children:o(c)}),(0,f.jsx)("div",{className:"amount-remaining",children:o("subscription_downloads_remaining",{downloads_remaining:a})})]})]})},W=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)((function(e){return e.calc.selectedAgreementType})),n=(0,i.useSelector)((function(e){return e.calc.step.showSubscriptionField})),s=(0,r.useTranslations)(),a=function(t){e(C.default.setSelectedAgreementType(t))};return(0,f.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,f.jsx)("div",{className:"title",children:s("how_will_you_pay")}),(0,f.jsx)("hr",{}),n&&(0,f.jsx)(G,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,f.jsx)("hr",{}),(0,f.jsx)(K,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,f.jsx)("hr",{})]})},q=n(65930),Z=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,s=(0,r.useTranslations)(),i=q.default.PERSONAL;return(0,f.jsxs)("div",{className:"account-choice-container "+(t===i?"selected radio-button-selected":""),onClick:function(){n(i)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",name:"account-choice",value:i})}),(0,f.jsx)("label",{role:"label",children:(0,f.jsx)("div",{className:"account-type",children:s("download_using_my_account")})})]})},Y=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,s=(0,i.useSelector)((function(e){return e.user.team_name})),a=q.default.TEAM,c=(0,r.useTranslations)();return(0,f.jsxs)("div",{className:"account-choice-container "+(t===a?"selected radio-button-selected":""),onClick:function(){n(a)},"data-testid":"radio-button",children:[(0,f.jsx)("div",{className:"radio-button",children:(0,f.jsx)("input",{type:"radio",name:"account-choice",value:a})}),(0,f.jsx)("div",{className:"company-icon"}),(0,f.jsx)("label",{role:"label",children:(0,f.jsx)("div",{className:"account-type",children:c("download_on_behalf_of_the_team",{name:s})})})]})},J=function(){var e=(0,i.useSelector)((function(e){return e.calc.selectedAccount})),t=(0,i.useDispatch)(),n=(0,s.useState)(e),r=n[0],a=n[1],c=function(e){t(C.default.setSelectedAccount(e)),a(e)};return(0,f.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,f.jsx)("hr",{}),(0,f.jsx)(Z,{selectedAccount:r,setSelectedAccountChoiceOption:c}),(0,f.jsx)("hr",{}),(0,f.jsx)(Y,{selectedAccount:r,setSelectedAccountChoiceOption:c}),(0,f.jsx)("hr",{})]})},Q=n(87757),X=n.n(Q),$=["styles"];function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var te=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$);return s.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),s.createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"}))},ne=n(94266),se="CompletePurchase-module__fullWidth___1BoAj",ie=n(25108);function re(e,t,n,s,i,r,a){try{var c=e[r](a),o=c.value}catch(e){return void n(e)}c.done?t(o):Promise.resolve(o).then(s,i)}var ae=function(){var e=A(),t=(0,r.useTranslations)(),n=(0,i.useDispatch)(),s=u(),a=(0,i.useSelector)((function(e){return e.calc.ctaInProgress})),c=(0,i.useSelector)((function(e){return e.calc.step.ctaAction})),o=(0,i.useSelector)((function(e){return e.calc.step.ctaClass})),l=(0,i.useSelector)((function(e){return e.calc.step.ctaTitle})),d=(0,i.useSelector)((function(e){return e.calc.step.completeSection})),p=(0,i.useSelector)((function(e){return e.calc.step.confirmSection})),h=(0,i.useSelector)((function(e){return e.calc.step.hideDownloadButton})),_=(0,i.useSelector)((function(e){return e.calc.step.name})),m=(0,i.useSelector)((function(e){return e.calc.step.triggerTracking})),x=(0,i.useSelector)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),g=(0,i.useSelector)((function(e){return e.calc.step.extendedLicenseFlow})),v=(0,i.useSelector)((function(e){return e.calc.redownloadForFree})),j=function(){var t,i=(t=X().mark((function t(i){var r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),n(C.default.setCtaInProgress(!0)),m?m():ie.error("Missing trigger tracking for "+_),r=c.split("(")[0],!C.default[c]){t.next=9;break}return t.next=7,n(C.default[c]());case 7:t.next=16;break;case 9:if("createDownload"!==r){t.next=14;break}return t.next=12,s[c]();case 12:t.next=16;break;case 14:return t.next=16,e[r]();case 16:if("pickOptionalLicenses"!==r){t.next=18;break}return t.abrupt("return");case 18:n(C.default.setCtaInProgress(!1));case 19:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(s,i){var r=t.apply(e,n);function a(e){re(r,s,i,a,c,"next",e)}function c(e){re(r,s,i,a,c,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}();return(0,f.jsx)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:!h&&(0,f.jsxs)("div",{className:"adp-file-download-button-wrapper",children:[!d&&(0,f.jsxs)("button",{className:o+" "+(x||g||v?se:""),id:"download-button",type:"submit","data-testid":"download-button",onClick:j,disabled:a,children:[a&&(0,f.jsx)("div",{role:"spinner",children:(0,f.jsx)(ne.Z,{color:"#fff",height:"22",width:"22"})}),!a&&l&&(0,f.jsx)("span",{role:"title",children:t(l)})]}),d&&(0,f.jsx)("button",{className:o,"data-testid":"complete-button",disabled:d,children:(0,f.jsx)("span",{className:"white-checkmark",children:(0,f.jsx)(te,{})})}),p&&(0,f.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,f.jsx)("div",{className:"adp-confirm-close-btn",id:"cancel-download-btn",onClick:function(){n(C.default.cancelDownload())},"data-testid":"cancel-button"})})]})})},ce=function(){var e=(0,r.useTranslations)(),t=(0,i.useSelector)((function(e){return e.asset})),n=(0,i.useSelector)((function(e){return e.user.premium_video_subscription_enabled})),s=(0,i.useSelector)((function(e){return e.calc.step.ctaAction})),a=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection})),c=(0,i.useSelector)((function(e){return e.calc.step.extendedLicenseFlow})),o=(0,i.useSelector)((function(e){return e.user.country_code})),d=a&&c,u=(0,l.useGtm)();return(0,f.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:t.isFilm&&!n?"/"+e("urls.plans_and_pricing_video"):!n&&"USA"!=o||s!==P.default.redirectToFastCheckoutWithPacksForExtLicenceAction()?"/"+e("urls.plans_and_pricing"):"/"+e("urls.plans_and_pricing_credit_packs"),onClick:function(){var e="adp_buy_card_"+(d?"extended_license_":"")+"view_plans_and_pricing_button";u.trackEvent("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:e,istock_collection:t.istockCollection})},children:e("view_plans_and_pricing")})},oe=["styles"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var de=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oe);return s.createElement("svg",le({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"16.443",height:"16.132",viewBox:"0 0 16.443 16.132",xmlSpace:"preserve"},i),s.createElement("path",{className:n.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),s.createElement("path",{className:n.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zM13.508 16.132H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}))},ue="EditorToolCta-module__icon___4naZA",pe="EditorToolCta-module__beta___3Diml",he=function(e,t){return void 0===t&&(t={}),window.combinedGtmTracking.gtmPushTracking(e,t)},fe=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,r.useTranslations)();return(0,f.jsx)("div",{className:"adp-editor","data-testid":"adp-editor",children:(0,f.jsx)("div",{className:"adp-editor-column",children:(0,f.jsxs)("span",{role:"button",onClick:function(){return he("adpInteraction",{adp_interaction:"ADP_Editor_Link_Click",adp_selection:null==(t=window.tracking_data)?void 0:t.page_name,ui_element_location:e.isFilm?"adp_video":"adp_stills"}),void window.open(e.editorPath);var t},className:"edit-this-photo-cta","data-testid":"adp-editor-link",target:e.isFilm?"_blank":"_self",rel:"noreferrer",children:[(0,f.jsx)("span",{className:ue,children:(0,f.jsx)(de,{})}),e.isFilm?t("edit_this_video"):e.isIllustration?t("edit_this_illustration"):t("edit_this_photo"),e.isFilm&&(0,f.jsx)("span",{className:pe,children:"BETA"})]})})})},_e="RedownloadAgreement-module__container___GAhip",me=function(){var e,t=(0,i.useSelector)((function(e){return e.buyCardData.licenseOverviewPath})),n=(0,r.useTranslations)();return(0,f.jsx)("div",{className:_e,"data-testid":"redownload-agreement",children:(0,f.jsx)("span",{dangerouslySetInnerHTML:(e=n("redownload_free_agreements",{links:[{href:""+t,target:"new"}]}),{__html:e})})})},xe="SubscribeToPremiumVideo-module__container___3J9iu",ge="SubscribeToPremiumVideo-module__buttonCta___1lh-q";function ve(e,t,n,s,i,r,a){try{var c=e[r](a),o=c.value}catch(e){return void n(e)}c.done?t(o):Promise.resolve(o).then(s,i)}var je=function(){var e=A(),t=(0,r.useTranslations)(),n=(0,i.useSelector)((function(e){return e.calc.step.triggerSubscribeTracking})),s=function(){var t,s=(t=X().mark((function t(s){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),n&&n(),t.next=4,e.redirectToPricing();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(s,i){var r=t.apply(e,n);function a(e){ve(r,s,i,a,c,"next",e)}function c(e){ve(r,s,i,a,c,"throw",e)}a(void 0)}))});return function(e){return s.apply(this,arguments)}}();return(0,f.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,f.jsx)("div",{className:xe,children:(0,f.jsx)("button",{className:ge,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:s,children:(0,f.jsx)("span",{role:"title",children:t("subscribe_to_premium_plus_video")})})})})},we=function(){var e,t=(0,i.useSelector)((function(e){return e.asset.editableAsset})),n=(0,i.useSelector)((function(e){return e.user.fast_checkout_sub})),a=(0,i.useSelector)((function(e){return e.user.fast_checkout_sub_savings})),c=(0,i.useSelector)((function(e){return e.user.video_pricing_clarity_variance})),l=(0,i.useSelector)((function(e){return e.calc.step.showAccountChoices})),d=(0,i.useSelector)((function(e){return e.calc.step.showDownloadChoices})),u=(0,i.useSelector)((function(e){return e.calc.step.showPricingClarity})),p=(0,i.useSelector)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),h=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection})),m=(0,i.useSelector)((function(e){return e.calc.step.warningBox})),x=(0,i.useSelector)((function(e){return e.buyCardData.licenseOverviewPath})),g=(0,i.useSelector)((function(e){return e.user.repurchase_fast_checkout_single_option})),v=(0,i.useSelector)((function(e){return e.calc.step.extendedLicenseFlow})),j=(0,i.useSelector)((function(e){return e.calc.redownloadForFree})),w=(0,i.useSelector)((function(e){return e.calc.step.completeSection})),b=(0,r.useTranslations)(),S=(0,o.Z)();return(0,s.useEffect)((function(){S.setTrackingDataElement("downloadActions",u&&!h?"clarity":"default")}),[u,h]),(0,f.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[m&&(0,f.jsx)(B,{}),u&&!h&&(0,f.jsx)(H,{}),d&&(0,f.jsx)(W,{}),l&&(0,f.jsx)(J,{}),p&&(0,f.jsx)(je,{}),(0,f.jsx)(ae,{}),!g&&(v||u&&(n||a||c))?(0,f.jsx)(ce,{"data-testid":"pnp-cta-container"}):null,h&&(0,f.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",dangerouslySetInnerHTML:(e=b("not_sure_what_license",{links:[{href:""+x,target:"new"}]}),{__html:e})}),w&&(0,f.jsx)(_,{}),t&&(0,f.jsx)(fe,{}),j&&!w&&(0,f.jsx)(me,{})]})},be=function(){var e,t=(0,i.useSelector)((function(e){return e.buyCardData.restrictedUsesPath})),n=(0,r.useTranslations)();return(0,f.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,f.jsx)("span",{dangerouslySetInnerHTML:(e=n("editorial_use_only_with_link",{links:[{href:""+t,target:"_blank"}]}),{__html:e})}),(0,f.jsxs)("span",{className:"tooltip",children:["?",(0,f.jsx)("span",{className:"tooltip_contents",children:n("editorial_use_clarification")})]})]})},Se=function(e){var t=e.title,n=e.canPeekAtCost,s=e.showCreditCost,a=e.redownloadSection,c=(0,i.useSelector)((function(e){return e.buyCardData})).geoPricingPromoPolicy,o=c.showTestA,l=c.showTestB,d=(0,i.useSelector)((function(e){return e.calc.totalCreditCost})),u=(0,r.useTranslations)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,f.jsx)("span",{children:u("new_lower_prices")})}),(0,f.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[o&&(0,f.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[t&&(0,f.jsx)("span",{"data-testid":"title",children:u(t)}),t&&(s||n)&&(0,f.jsx)("span",{children:" | "}),(s||n)&&(0,f.jsx)("span",{"data-testid":"credit-cost",children:(0,f.jsx)(m,{totalCreditCost:d})})]}),l&&(0,f.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:a&&t?(0,f.jsx)("span",{"data-testid":"title",children:u(t)}):(0,f.jsx)("span",{"data-testid":"subtitle",children:u("high_quality_for_projects")})})]})]})},ye=["styles"];function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var ke=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ye);return s.createElement("svg",Ce({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),s.createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),s.createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),s.createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"}))},Ne=function(e){var t=e.tooltipText,n=(0,i.useSelector)((function(e){return e.asset})),s=(0,l.useGtm)();return(0,f.jsx)("div",{className:"istock-info-tooltip","data-testid":"info-tooltip",onMouseOver:function(){var e=n.isEssentialImage?"essential":"signature";s.trackEvent("notificationTooltipInteraction",{tooltip_interaction:"Viewed",tooltip_selection:"adp_tooltip_collection_definition_"+e,ui_element_location:"adp_buy_card_tooltip_collection_definition"})},children:(0,f.jsx)("div",{className:"tooltip-container",children:(0,f.jsx)("div",{className:"istock_tooltip tooltip--top tooltip--inline",children:(0,f.jsxs)("div",{className:"tooltip__trigger-container",children:[(0,f.jsx)(ke,{className:"tooltip__icon"}),(0,f.jsx)("span",{className:"tooltip__content",children:t})]})})})})},Te=function(e){var t=e.title,n=e.canPeekAtCost,s=e.showCreditCost,a=e.showPricingClarity,c=(0,r.useTranslations)(),o=(0,i.useSelector)((function(e){return e.user.team_name})),l=(0,i.useSelector)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),d=(0,i.useSelector)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),u=(0,i.useSelector)((function(e){return e.calc.totalCreditCost}));return(0,f.jsxs)(f.Fragment,{children:[(s||n)&&(0,f.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,f.jsx)("div",{className:"download-actions__header",children:(0,f.jsx)(m,{totalCreditCost:u})})}),t&&(0,f.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,f.jsx)("span",{"data-testid":"title",children:c(t,{team_name:o})}),a&&(0,f.jsx)("span",{children:l&&(0,f.jsx)(Ne,{tooltipText:d})})]})]})},Pe="HeaderCollectionTitleFocus-module__subHeading___oJOmB",Ae=function(e){var t=e.title,n=e.canPeekAtCost,s=e.showCreditCost,a=e.showPricingClarity,c=(0,r.useTranslations)(),o=(0,i.useSelector)((function(e){return e.user.team_name})),l=(0,i.useSelector)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),d=(0,i.useSelector)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),u=(0,i.useSelector)((function(e){return e.calc.totalCreditCost}));return(0,f.jsxs)(f.Fragment,{children:[t?(0,f.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"collection-title-header",children:(0,f.jsxs)("div",{className:"download-actions__header",children:[(0,f.jsx)("span",{"data-testid":"title",children:c(t,{team_name:o})}),a&&(0,f.jsx)("span",{children:l&&(0,f.jsx)(Ne,{tooltipText:d})})]})}):null,s||n?(0,f.jsx)("span",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip "+Pe,children:(0,f.jsx)(m,{totalCreditCost:u})}):null]})},De=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.step.title})),n=(0,i.useSelector)((function(e){return e.calc.step.showCreditCost})),s=(0,i.useSelector)((function(e){return e.calc.step.showPricingClarity})),a=(0,i.useSelector)((function(e){return e.calc.step.redownloadSection})),c=(0,i.useSelector)((function(e){return e.calc.hasSelectedOptionalLicenses})),o=(0,i.useSelector)((function(e){return e.calc.selectedAgreementType})),l=(0,i.useSelector)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),d=(0,i.useSelector)((function(e){return e.user.repurchase_fast_checkout_single_option})),u=c&&o,p=(0,r.useTranslations)();return e.freeFile?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x,{}),t&&(0,f.jsx)("h2",{id:"card-title",role:"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:p(t)})]}):l?(0,f.jsx)(Se,{title:t,canPeekAtCost:u,showCreditCost:n,redownloadSection:a}):d?(0,f.jsx)(Ae,{title:t,canPeekAtCost:u,showCreditCost:n,showPricingClarity:s}):(0,f.jsx)(Te,{title:t,canPeekAtCost:u,showCreditCost:n,showPricingClarity:s})},Oe=function(){var e=(0,r.useTranslations)();return(0,f.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,f.jsx)("div",{className:"adp-btn-flow-text",children:(0,f.jsx)("small",{children:e("you_already_downloaded")})})})},Ee=function(){var e,t=(0,i.useSelector)((function(e){return e.buyCardData.licenseAgreement})),n=(0,r.useTranslations)();return(0,f.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,f.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,f.jsx)("small",{dangerouslySetInnerHTML:(e=n("credit_license_agreement",{links:[{href:t}]}),{__html:e})})})})},Ie=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)((function(e){return e.asset})),n=(0,i.useSelector)((function(e){return e.calc.step})),r=(0,i.useSelector)((function(e){return e.calc.selectedAssetSize})),a=t.assetType,c=t.sizes.toArray().filter((function(e){return null!=e.description}));(0,s.useEffect)((function(){if(!r){var t=c[c.length-1];e(C.default.selectAssetSize(t))}}),[]);var o=function(e){return c.find((function(t){return t.name===e}))};if(!("film"===a&&n.showFileTypeDropdown&&c&&c.length>0&&!n.showExtendedLicenses))return null;var l=r&&r.name;return(0,f.jsx)("section",{className:"adp-file-type-dropdown-section",children:(0,f.jsx)("select",{className:"adp-file-type-dropdown",onChange:function(t){var n=o(t.target.value);e(C.default.selectAssetSize(n))},"data-testid":"size-options",value:l,children:c.map((function(e){return(0,f.jsx)("option",{value:e.name,children:e.description},e.name)}))})})},Le=n(78676),Me=["image","raster","vector","film"],Fe=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)((function(e){return e.asset})),n=(0,i.useSelector)((function(e){return e.calc.step})),a=(0,i.useSelector)((function(e){return e.calc.selectedAssetSize})),c=(0,r.useTranslations)(),o=t.assetType,l=t.sizes.toArray().filter((function(e){return null!=e.description}));if(!(Me.includes(o)&&n.showTshirtSizes))return null;var d=(0,s.useState)(null),u=d[0],p=d[1],h=function(e){return l.find((function(n){return t.isFilm?n.name===e:n.teeShirtSize===e}))};(0,s.useEffect)((function(){if(!a){var n=h(t.isFilm&&t.experiences.iStockVideoPreferredSize?Le.default.getVideoPreferredSize():Le.default.getPreferredSize());e(C.default.selectAssetSize(n||l[l.length-1]))}}),[]);var _,m=function(){return u||a},x=function(e){p(j(e))},g=function(){p(null)},v=function(e){w(j(e))},j=function(e){var t=e.target.attributes.name.value;return h(t)},w=function(n){e(C.default.selectAssetSize(n)),t.isFilm||Le.default.setPreferredSize(n.teeShirtSize),t.isFilm&&t.experiences.iStockVideoPreferredSize&&Le.default.setPreferredVideoSize(n.name)},b=function(){var e,t="size-description";return null!=(e=m())&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},S=function(e){var t="tile";return a===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},y=function(e){if(t.isFilm)return e.label;var n=Le.default.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?n:c(n)};return(0,f.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,f.jsxs)("div",{className:"sizes",children:[(0,f.jsx)("ol",{className:o+" tiles",role:"list",children:l.map((function(e){var n=t.isFilm?e.name:e.teeShirtSize;return(0,f.jsx)("li",{"aria-label":y(e),className:S(e),id:"download-size-"+n,name:n,onClick:v,onMouseOver:x,onMouseOut:g,role:"listitem",children:y(e)},n)}))}),(_=m(),_?t.isFilm?(0,f.jsxs)("div",{className:b(),children:[_.description,(0,f.jsx)("span",{className:"divider",children:"|"}),_.contentType,(0,f.jsx)("span",{className:"divider",children:"|"}),_.fileSize]}):(0,f.jsxs)("div",{className:b(),children:[" ",_.description," "]}):null)]})})},ze=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection}));e.assetType;return!t&&(0,f.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:e.isImage||e.experiences.VideoSizeTileSelector?(0,f.jsx)(Fe,{}):(0,f.jsx)(Ie,{})})},Be=function(){var e=(0,i.useSelector)((function(e){return e.calc.step.showSubTypeMessage})),t=(0,i.useSelector)((function(e){return e.calc.step.dropboxEnabled})),n=(0,r.useTranslations)();return(0,f.jsxs)(f.Fragment,{children:[e&&(0,f.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,f.jsx)("span",{children:n("available_with_your_subscription")})}),t&&(0,f.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,f.jsx)("span",{children:n("download_workflow.download_will_be_saved_to_dropbox")})})]})},Ue="Licenses-module__subDescription___1O6Al",Re=function(){var e=(0,i.useSelector)((function(e){return e.licenses})).toArray(),t=(0,r.useTranslations)(),n=(0,i.useDispatch)(),s=function(e){var t=[];return e.is_acquired_and_not_repurchasable&&t.push("acquired"),e.is_selected&&t.push("selected checkbox-selected"),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push("disabled"),t.join(" ")};return(0,f.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[(0,f.jsxs)("header",{className:"el-header",children:[(0,f.jsx)("h2",{children:t("add_licenses")}),(0,f.jsx)("div",{className:"el-close-btn",onClick:function(){n(C.default.closeLicensePicker())}})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"el-title",children:[(0,f.jsx)("div",{className:"el-title-licenses",children:t("license_types")}),(0,f.jsx)("div",{className:"el-title-credits",children:t("istock_credits")})]}),(0,f.jsx)("hr",{}),(0,f.jsx)("ul",{"data-testid":"license-list",children:e.map((function(e,t){return(0,f.jsxs)("li",{className:s(e),"data-testid":"license-listitem",children:[(0,f.jsx)("label",{htmlFor:"el_"+t,children:(0,f.jsx)("span",{className:"checkbox",children:(0,f.jsx)("input",{id:"el_"+t,type:"checkbox",disabled:e.is_purchase_required||e.is_acquired_and_not_repurchasable?"disabled":"",onClick:function(){return function(e){n(C.default.checkLicense(e))}(t)}})})}),(0,f.jsxs)("label",{className:"el-license-description "+(e.sub_description?"elLicenseDescription--small":""),htmlFor:"el_"+t,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,f.jsx)("p",{className:Ue,htmlFor:"el_"+t,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,f.jsx)("label",{className:"el-credit-cost",htmlFor:"el_"+t,children:e.credit_cost})]},""+e.license_type)}))})]})]})},He=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.step.completeSection})),n=(0,i.useSelector)((function(e){return e.calc.step.isConfirmationState})),s=(0,i.useSelector)((function(e){return e.calc.step.redownloadSection})),r=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection})),a=(0,i.useSelector)((function(e){return e.calc.redownloadForFree}));return(0,f.jsx)("div",{className:"download-actions","data-testid":"download-actions",children:(0,f.jsxs)("form",{className:"istock-download-form",role:"form",children:[r?(0,f.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,f.jsx)(g,{}),(0,f.jsx)(Re,{})]}):(0,f.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"header",children:[(0,f.jsx)(De,{}),e.isEditorialUseOnly&&(0,f.jsx)("div",{className:"editorial-bubble",children:(0,f.jsx)(be,{})}),!a&&!t&&(0,f.jsx)(Be,{}),(0,f.jsx)(ze,{})]}),(0,f.jsx)(we,{}),s&&!e.freeFile&&(0,f.jsx)(Oe,{}),n&&(0,f.jsx)(Ee,{})]})})},Ve=function(e){var t=e.editableAsset,n=e.isFilm,s=(0,r.useTranslations)(),i=!t||t&&!n;return(0,f.jsxs)("ul",{children:[t&&n&&(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"bullet-list__small","data-testid":"create-video-projects-with-editor",children:s("create_video_projects_with_editor")})}),(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"bullet-list__small",children:s("save_and_share")})}),(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"bullet-list__small",children:s("track_download_history")})}),(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"bullet-list__small",children:s("complete_purchase_faster")})}),i&&(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"bullet-list__small","data-testid":"and-much-more",children:s("and_much_more")})})]})},Ke=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection})),n=(0,i.useSelector)((function(e){return e.buyCardData.signInPath})),s=(0,r.useTranslations)(),a=(0,l.useGtm)(),c=e.isFilm?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"download-actions sign-in-actions","data-testid":"sign-in-actions",children:(0,f.jsx)("form",{className:"istock-download-form",children:t?(0,f.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,f.jsx)(g,{})}):(0,f.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"header",children:[(0,f.jsx)(De,{}),(0,f.jsx)("hr",{}),e.isEditorialUseOnly&&(0,f.jsx)("div",{className:"editorial-bubble",children:(0,f.jsx)(be,{})}),(0,f.jsx)("h4",{className:"sign-in__heading",children:s("sign_in_better_experience_colon")}),(0,f.jsx)(Ve,{isFilm:e.isFilm,editableAsset:e.editableAsset}),(0,f.jsx)("a",{className:"cta primary-cta",href:n,onClick:function(){a.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:s("sign_in")}),e.editableAsset&&(0,f.jsx)(fe,{})]})})}),(0,f.jsx)("hr",{className:c})]})},Ge=function(e){var t=e.text,n=e.href,s=e.count,i=(0,o.Z)();return(0,f.jsxs)(f.Fragment,{children:[s>1&&(0,f.jsx)("span",{children:" | "}),(0,f.jsx)("span",{itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",children:(0,f.jsxs)("a",{href:n,itemProp:"item","data-testid":"category-link-"+s,onClick:function(){return e=t,void i.categoriesLink(e);var e},children:[(0,f.jsx)("meta",{itemProp:"position",content:s}),(0,f.jsx)("span",{itemProp:"name",children:t})]})})]})},We=function(e){var t=e.ftlpCategory,n=e.parentKeywordCategory,s=e.matchingInspirePages,i=(0,r.useTranslations)(),a=s.toJSON(),c=a&&a.length>0;return(0,f.jsxs)("div",{className:"asset-categories",itemScope:!0,itemType:"https://schema.org/BreadcrumbList","data-testid":"asset-categories",children:[(0,f.jsx)("span",{children:i("categories")}),(0,f.jsx)(Ge,{text:i(t.text),href:t.href,count:"1"}),c?a.map((function(e,t){return(0,f.jsx)(Ge,{text:e.text,href:e.href,count:(2+t).toString()},(2+t).toString())})):(0,f.jsx)(Ge,{text:n.text,href:n.href,count:"2"})]})},qe="Details-module__contributor_text___3z6OM",Ze=function(){var e=(0,i.useSelector)((function(e){return e.asset})),t=(0,i.useSelector)((function(e){return e.calc.isInPricingClarity})),n=(0,i.useSelector)((function(e){return e.calc.largestSizeAvailable})),s=(0,r.useTranslations)(),a=e.assetId,c=e.assetCost,l=e.assetSubmittedDate,d=e.exclusiveContent,u=e.downloadSavingsDisclaimer,p=e.contributor,h=p.displayName,_=p.pictureUrl,m=p.memberUrl,x=(e.keywords,e.isIllustration),g=e.isFilm,v=e.isEssentialImage,j=e.categoriesView,w=(0,o.Z)(),b=t,S=j&&j.matchingInspirePages[0]&&j.matchingInspirePages[0].text,y=j&&j.parentKeywordCategory&&j.parentKeywordCategory.text,C=j&&j.ftlpCategory.text&&(y||S),k=n?n.description:"";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,f.jsxs)("a",{className:"photographer","data-testid":"photographer",href:m,onClick:function(){return w.setUiElementLocation("contributor_credit_adp")},children:[(0,f.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",style:{backgroundImage:"url("+_+")"},viewBox:"0 0 98 98"}),(0,f.jsx)("span",{className:qe,children:s("credit")}),(0,f.jsx)("span",{children:h})]})}),b&&k&&(0,f.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,f.jsx)("span",{children:s("attributes.largest_size_available")}),(0,f.jsx)("span",{"data-testid":"largest-size-description",children:k})]}),(0,f.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,f.jsx)("span",{children:s(x?"attributes.stock_illustration_id":g?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,f.jsx)("span",{children:a})]}),(0,f.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,f.jsx)("span",{children:s("upload_date")}),(0,f.jsx)("span",{children:l})]}),C&&(0,f.jsx)(We,{ftlpCategory:j.ftlpCategory,parentKeywordCategory:j.parentKeywordCategory,matchingInspirePages:j.matchingInspirePages}),u&&(0,f.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:s(g?"video_asset_savings":v?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:c})}),d&&(0,f.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:s("exclusive_coverage_label")})]})},Ye=function(e){var t=e.licenseOverviewPath,n=(0,i.useSelector)((function(e){return e.calc.step.purchaseExtendedLicenseNotAllowed})),s=(0,r.useTranslations)(),a=(0,l.useGtm)(),c=(0,i.useDispatch)(),o=function(e){return{__html:e}};return!n&&(0,f.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{className:"license",children:[(0,f.jsx)("span",{"data-testid":"standard-license-link",dangerouslySetInnerHTML:o(s("includes_standard_license",{links:[{href:""+t,target:"_blank",rel:"nofollow"}]}))}),(0,f.jsx)("div",{id:"show_extended_licenses",className:"license__show-extended-licenses",onClick:function(e){e.preventDefault(),c(C.default.pickOptionalLicenses()),a.trackEvent("adpInteraction",{adp_interaction:"ADP_Extended_License_Link_Click",adp_selection:"ADP_Extended_License"})},children:(0,f.jsx)("span",{"data-testid":"extended-license-link",dangerouslySetInnerHTML:o(s("add_extended_license",{links:[{href:""}]}))})})]})]})})},Je=["styles"];function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var Xe=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Je);return s.createElement("svg",Qe({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),s.createElement("defs",null,s.createElement("path",{d:"M12.785.21L7.007 5.986 1.231.21A.71.71 0 00.227 1.212l5.78 5.78-5.78 5.78a.71.71 0 00.31 1.206.706.706 0 00.694-.203l5.778-5.78 5.78 5.78c.28.258.715.252.985-.019a.706.706 0 00.017-.985l-5.777-5.78 5.777-5.779A.71.71 0 0013.29 0a.71.71 0 00-.504.21z",id:"a"})),s.createElement("use",{xlinkHref:"#a",fillRule:"evenodd"}))},$e=["styles"];function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var tt=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$e);return s.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),s.createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),s.createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"}))},nt="DropboxModal-module__dropboxIntroModal___1mHEp",st="DropboxModal-module__dropboxIntroModalContent___Dgu6O",it="DropboxModal-module__dropboxIntroModalText___Dj3T6",rt="DropboxModal-module__dropboxIcon___3_CQu",at="DropboxModal-module__closeIcon___lNXKO",ct=function(e){var t=e.showDropboxModal,n=(0,r.useTranslations)(),i=(0,l.useGtm)(),a=(0,s.useState)(t),c=a[0],o=a[1],d=null;(0,s.useEffect)((function(){t&&u()}),[t]);var u=function(){return o(!0),d=setTimeout((function(){h()}),3e4),function(){return clearTimeout(d)}},p=function(){clearTimeout(d),o(!1)},h=function(){m("DropboxCloseModal"),p()},_=function(){m("DropboxdontShowAgain"),p(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)},m=function(e){i.trackEvent(e)};return(0,f.jsx)(f.Fragment,{children:c&&(0,f.jsxs)("aside",{className:nt,id:"dropbox-intro-modal",role:"dialog",children:[(0,f.jsx)(Xe,{className:at,onClick:_,"data-testid":"close-link"}),(0,f.jsxs)("div",{className:st,children:[(0,f.jsx)(tt,{className:rt,alt:n("dropbox")}),(0,f.jsxs)("div",{className:it,children:[(0,f.jsx)("div",{children:n("download_workflow.dropbox_save_your_downloads")}),(0,f.jsx)("a",{href:"/account/apps",onClick:function(){return m("DropboxGetStarted")},children:n("download_workflow.get_started")+" >"})]})]})]})})},ot=function(){var e=(0,i.useSelector)((function(e){return e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta})),t=(0,i.useSelector)((function(e){return e.buyCardData.licenseOverviewPath})),n=(0,i.useSelector)((function(e){return e.calc.showDropboxModal})),s=(0,i.useSelector)((function(e){return e.calc.step.hideDetails})),r=(0,i.useSelector)((function(e){return e.calc.step.viewLicenseSelection}));return(0,f.jsxs)("section",{children:[e?(0,f.jsx)(Ke,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(He,{}),!r&&(0,f.jsx)(Ye,{licenseOverviewPath:t})]}),!s&&(0,f.jsx)(Ze,{}),(0,f.jsx)(ct,{showDropboxModal:n||!1})]})}},94266:function(e,t,n){"use strict";var s=n(67294),i=n(61980),r=n(85893),a=function e(t){var s=t.color,a=t.height,c=t.width,o=t.type,l=void 0===o?"Oval":o,d=(0,i.ZP)({resolved:{},chunkName:function(){return"react-loader-spinner"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(432).then(n.bind(n,31607))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var s=this.resolve(t);return n(s)},resolve:function e(){return 31607}});return(0,r.jsx)(d,{type:l,color:s,height:a,width:c})};t.Z=a}}]);
//# sourceMappingURL=app-components-BuyCard-BuyCard-f5131398401b23092680.chunk.js.map